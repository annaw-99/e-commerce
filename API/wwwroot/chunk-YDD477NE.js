import{a as E,b as V,c as q}from"./chunk-GSJM4JS7.js";import{a as C}from"./chunk-33FOXNLH.js";import{a as U,d as $}from"./chunk-TMIYIFL6.js";import{b as N}from"./chunk-WSH46PCB.js";import{a as z}from"./chunk-VMMLJHBF.js";import{h as P,ia as L,j as F,k as j}from"./chunk-BMBN6P24.js";import{Db as A,Gb as u,Hb as f,Ib as e,Jb as t,Kb as B,Ob as R,Rb as k,Rc as y,Sc as g,Tb as h,Wb as T,Xb as M,ab as _,db as n,dc as i,ec as o,fc as s,ka as p,lc as v,oa as x,pc as m,qc as l,rc as S,ub as w,xa as I,ya as D}from"./chunk-EPYIBYH4.js";var K=(a,d)=>d.productId;function Q(a,d){if(a&1&&(e(0,"tr")(1,"td",21)(2,"div",22),B(3,"img",23),e(4,"span",24),i(5),t()()(),e(6,"td",25),i(7),t(),e(8,"td",26),i(9),m(10,"currency"),t()()),a&2){let r=d.$implicit;n(3),T("src",r.pictureUrl,_),n(2),o(r.productName),n(2),s("x",r.quantity,""),n(2),o(l(10,4,r.price))}}function W(a,d){if(a&1){let r=R();e(0,"mat-card",0)(1,"div",1)(2,"div",2)(3,"h2",3),i(4),t(),e(5,"button",4),k("click",function(){I(r);let G=h();return D(G.onReturnClick())}),i(6),t()(),e(7,"div",5)(8,"div",6)(9,"h4",7),i(10,"Billing and Delivery Information"),t(),e(11,"dl")(12,"dt",8),i(13,"Shipping Address"),t(),e(14,"dt",9),i(15),m(16,"address"),t()(),e(17,"dl")(18,"dt",8),i(19,"Payment Info"),t(),e(20,"dt",9),i(21),m(22,"paymentCard"),t()()(),e(23,"div",6)(24,"h4",7),i(25,"Order Details"),t(),e(26,"dl")(27,"dt",8),i(28,"Email Address"),t(),e(29,"dt",9),i(30),t()(),e(31,"dl")(32,"dt",8),i(33,"Order Status"),t(),e(34,"dt",9),i(35),t()(),e(36,"dl")(37,"dt",8),i(38,"Order Date"),t(),e(39,"dt",9),i(40),m(41,"date"),t()()()(),e(42,"div",10)(43,"div",11)(44,"table",12)(45,"tbody",13),u(46,Q,11,6,"tr",null,K),t()()()(),e(48,"div",14)(49,"p",7),i(50,"Order Details"),t(),e(51,"div",15)(52,"div",6)(53,"dl",16)(54,"dt",17),i(55,"Subtotal"),t(),e(56,"dd",18),i(57),m(58,"currency"),t()(),e(59,"dl",16)(60,"dt",17),i(61,"Discount"),t(),e(62,"dd",19),i(63,"-$0.00"),t()(),e(64,"dl",16)(65,"dt",17),i(66,"Delivery fee"),t(),e(67,"dd",18),i(68),m(69,"currency"),t()()(),e(70,"dl",20)(71,"dt",17),i(72,"Total"),t(),e(73,"dd",18),i(74),m(75,"currency"),t()()()()()()}if(a&2){let r=h();n(4),s("Order summary for order #",r.order.id,""),n(2),o(r.buttonText),n(9),o(l(16,10,r.order.shippingAddress)),n(6),o(l(22,12,r.order.paymentSummary)),n(9),o(r.order.buyerEmail),n(5),o(r.order.status),n(5),o(S(41,14,r.order.orderDate,"medium")),n(6),f(r.order.orderItems),n(11),o(l(58,17,r.order.subtotal)),n(11),o(l(69,19,r.order.shippingPrice)),n(6),o(l(75,21,r.order.total))}}var O=class a{orderService=p(E);activatedRoute=p(P);accountService=p(N);adminService=p(z);router=p(F);order;buttonText=this.accountService.isAdmin()?"Return to Admin":"Return to Orders";ngOnInit(){this.loadOrder()}onReturnClick(){this.accountService.isAdmin()?this.router.navigateByUrl("/admin"):this.router.navigateByUrl("/orders")}loadOrder(){let d=this.activatedRoute.snapshot.paramMap.get("id");if(!d)return;(this.accountService.isAdmin()?this.adminService.getOrder(+d):this.orderService.getOrderDetailed(+d)).subscribe({next:c=>this.order=c})}static \u0275fac=function(r){return new(r||a)};static \u0275cmp=x({type:a,selectors:[["app-order-detailed"]],standalone:!0,features:[v],decls:1,vars:1,consts:[[1,"rounded-none","bg-white","py-8","max-w-screen-lg","mx-auto","shadow-none"],[1,"w-full","px-4"],[1,"flex","justify-between"],[1,"text-xl","uppercase","text-center","font-semibold"],["mat-flat-button","",1,"text-white","hover:bg-gray-900","bg-black",3,"click"],[1,"mt-4","py-3","border-t","border-gray-200","flex","gap-16"],[1,"space-y-2"],[1,"text-md","font-semibold"],[1,"text-sm","font-medium"],[1,"text-sm","mt-1","font-light"],[1,"mt-4"],[1,"border-y","border-gray-200"],[1,"w-full","text-center"],[1,"divide-y","divide-gray-200"],[1,"space-y-4","mt-4"],[1,"space-y-4"],[1,"flex","items-center","justify-between","gap-4"],[1,"font-medium","text-gray-500","text-sm"],[1,"font-medium","text-gray-900","text-sm"],[1,"font-medium","text-green-500","text-sm"],[1,"flex","items-center","justify-between","gap-4","border-t","border-gray-200","pt-2"],[1,"py-4"],[1,"flex","items-center","gap-4"],["alt","product image",1,"w-10","h-10",3,"src"],[1,"text-sm"],[1,"p-4","text-sm"],[1,"p-4","text-right","text-sm"]],template:function(r,c){r&1&&w(0,W,76,23,"mat-card",0),r&2&&A(c.order?0:-1)},dependencies:[$,U,L,y,g,V,q]})};var X=(a,d)=>d.id;function Y(a,d){if(a&1&&(e(0,"tr",10)(1,"th",11),i(2),t(),e(3,"td",12),i(4),m(5,"date"),t(),e(6,"td",12),i(7),m(8,"currency"),t(),e(9,"td",12),i(10),t()()),a&2){let r=d.$implicit;M("routerLink","/orders/",r.id,""),n(2),s("# ",r.id,""),n(2),o(S(5,6,r.orderDate,"medium")),n(3),o(l(8,9,r.total)),n(3),o(r.status)}}var b=class a{orderService=p(E);orders=[];ngOnInit(){this.orderService.getOrdersForUser().subscribe({next:d=>this.orders=d})}static \u0275fac=function(r){return new(r||a)};static \u0275cmp=x({type:a,selectors:[["app-order"]],standalone:!0,features:[v],decls:19,vars:0,consts:[[1,"mx-20","mt-12"],[1,"font-semibold","text-2xl","mb-6","text-start","uppercase"],[1,"flex","flex-col"],[1,"w-full"],[1,"min-w-full","divide-y","divide-gray-200","cursor-pointer"],[1,"bg-gray-50"],[1,"uppercase","text-gray-600","text-sm"],[1,"text-center","px-6","py-3"],[1,"text-left"],[1,"bg-white","divide-y","divide-gray-200"],[1,"hover:bg-gray-100",3,"routerLink"],[1,"px-6","py-3","text-sm","items-start"],[1,"text-sm"]],template:function(r,c){r&1&&(e(0,"div",0)(1,"h2",1),i(2,"My Orders"),t(),e(3,"div",2)(4,"div",3)(5,"table",4)(6,"thead",5)(7,"tr",6)(8,"th",7),i(9,"Order No."),t(),e(10,"th",8),i(11,"Date"),t(),e(12,"th",8),i(13,"Total"),t(),e(14,"th",8),i(15,"Status"),t()()(),e(16,"tbody",9),u(17,Y,11,11,"tr",10,X),t()()()()()),r&2&&(n(17),f(c.orders))},dependencies:[j,y,g]})};var Ce=[{path:"",component:b,canActivate:[C]},{path:":id",component:O,canActivate:[C]}];export{Ce as orderRoutes};
